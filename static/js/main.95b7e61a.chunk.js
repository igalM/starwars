(this.webpackJsonpzoomin=this.webpackJsonpzoomin||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),o=n(13),c=n.n(o),i=(n(92),n(24)),s=n(20),u=n(78),d=n(15),l=n(146),b=n(159),j=n(149),p=n(150),O=n(151),x=n(152),f=n(157),v=n(49),h=n(72),m=n.n(h),g=n(148),y=n(158),S=n(70),w=n.n(S),k=n(73),I=n.n(k),N=n(6),E=n(153),_=Object(l.a)((function(e){return Object(b.a)({root:function(t){var n;return n={position:"relative",margin:20,flexDirection:"column",boxShadow:t.isFavorite?"0px 0px 3px 1px #f44336":"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 8px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)",transition:"0.2s all",height:t.expanded?450:320,"&:hover":{transform:"scale(1.03)"}},Object(d.a)(n,e.breakpoints.down("sm"),{height:"auto",minHeight:280}),Object(d.a)(n,e.breakpoints.down("xs"),{margin:10,minHeight:320}),n},openingCrawl:{padding:"0 16px"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},actions:{position:"absolute",right:0,bottom:0},icon:{marginLeft:"auto"}})})),F=function(e){var t=e.title,n=e.episode_id,a=e.opening_crawl,o=e.release_date,c=e.isFavorite,i=e.expanded,s=e.characters,u=e.planets,l=e.vehicles,b=e.species,h=e.starships,S=e.expand,k=e.toggle,F=_({isFavorite:c,expanded:i});return Object(r.jsx)(g.a,{item:!0,lg:4,md:6,children:Object(r.jsxs)(j.a,{className:F.root,children:[Object(r.jsx)(p.a,{title:t,subheader:w()(o).format("LL")}),Object(r.jsx)(O.a,{className:F.openingCrawl,children:Object(r.jsx)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:a})}),Object(r.jsxs)(x.a,{className:F.actions,children:[Object(r.jsx)(y.a,{title:c?"Remove from favorites":"Add to favorites",children:Object(r.jsx)(f.a,{onClick:function(){return k(n)},className:F.icon,children:Object(r.jsx)(m.a,{color:c?"secondary":"disabled"})})}),Object(r.jsx)(y.a,{title:i?"Show less":"Show more",children:Object(r.jsx)(f.a,{className:Object(N.a)(F.expand,Object(d.a)({},F.expandOpen,i)),onClick:function(){return S(n)},"aria-expanded":i,children:Object(r.jsx)(I.a,{})})})]}),Object(r.jsx)(E.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(v.a,{paragraph:!0,children:Object(r.jsx)("u",{children:"Extras"})}),Object(r.jsxs)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:["Number of characters: ",s.length]}),Object(r.jsxs)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:["Number of planets: ",u.length]}),Object(r.jsxs)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:["Number of species: ",b.length]}),Object(r.jsxs)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:["Number of vehicles: ",l.length]}),Object(r.jsxs)(v.a,{variant:"body2",color:"textSecondary",component:"p",children:["Number of starships: ",h.length]})]})})]})})},C=function(e){return e.moviesReducer.movies},T=function(e){return e.moviesReducer.loading},M=function(e){return e.moviesReducer.error},R=n(154),L=Object(l.a)((function(){return Object(b.a)({root:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})})),A=function(){var e=L();return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(R.a,{size:50})})};function V(e,t){return Object(s.a)(Object(s.a)({},e),t)}function G(e,t){return{type:e,payload:t}}var H="TOGGLE_FAV_MOVIE",J="TOGGLE_FAV_MOVIE_START",W="FETCH_MOVIES_START",z="FETCH_MOVIES_SUCCESS",B="FETCH_MOVIES_FAILED",D="FETCH_MOVIES",U=function(e,t){return G(z,{movies:e,favoritesIds:t})},q=Object(l.a)((function(e){return Object(b.a)({root:Object(d.a)({flexGrow:1,display:"flex",flexWrap:"wrap",padding:20},e.breakpoints.down("xs"),{padding:15})})})),K=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(i.c)(C),d=Object(i.c)(T),l=Object(i.c)(M),b=q(),j=Object(i.b)(),p=Object(a.useCallback)((function(e){return j(function(e){return G(J,e)}(e.toString()))}),[j]);if(d)return Object(r.jsx)(A,{});if(l)return Object(r.jsx)("h2",{children:"Some error occured, please contact the site creator!"});var O=Object.keys(c).map((function(e){return Object(r.jsx)(F,Object(s.a)({toggle:function(e){return p(e)},expand:function(e){return function(e){o(e===n?null:e)}(e)},expanded:(null===n||void 0===n?void 0:n.toString())===e},c[e]),e)}));return Object(r.jsx)(g.a,{container:!0,className:b.root,children:O})},P=n(155),Q=n(156),X=n.p+"static/media/logo.de03c65a.svg",Y=Object(l.a)((function(e){return Object(b.a)({root:Object(d.a)({flexGrow:1,textAlign:"center",paddingBottom:100},e.breakpoints.down("xs"),{paddingBottom:80}),toolbar:{height:80},logo:Object(d.a)({position:"absolute",maxWidth:100},e.breakpoints.down("xs"),{maxWidth:65}),title:Object(d.a)({margin:"auto"},e.breakpoints.down("xs"),{fontSize:18})})})),Z=function(){var e=Y();return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(P.a,{position:"fixed",children:Object(r.jsxs)(Q.a,{className:e.toolbar,children:[Object(r.jsx)("img",{className:e.logo,src:X,alt:"Star Wars Logo"}),Object(r.jsx)("h1",{className:e.title,children:"The Star Wars Trilogy"})]})})})},$=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(G(D))}),[e]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{}),Object(r.jsx)(K,{})]})},ee=n(23),te={movies:{},favoritesIds:{},error:!1,loading:!1},ne=function(e,t){var n=Object(s.a)({},t.movies),r=Object(s.a)({},t.favoritesIds);for(var a in n)a in r&&(n[a].isFavorite=!0);return V(e,{movies:n,favoritesIds:r,loading:!1,error:!1})},re=function(e){return V(e,{loading:!0})},ae=function(e){return V(e,{loading:!1,error:!0})},oe=function(e,t){var n=Object(s.a)({},e.movies[t.id]);n.isFavorite=!n.isFavorite;var r=V(e.movies,Object(d.a)({},t.id,n));return V(e,{movies:r,favoritesIds:t.favoritesIds})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return oe(e,t.payload);case W:return re(e);case B:return ae(e);case z:return ne(e,t.payload);default:return e}},ie=Object(ee.c)({moviesReducer:ce}),se=n(79),ue=n(22),de=n.n(ue),le=n(77),be=n(16),je=n(74),pe=n(47),Oe=n(48),xe=n(80),fe=n(76),ve=n(75),he=n.n(ve),me=new(function(e){Object(xe.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(pe.a)(this,n),t.apply(this,arguments)}return Object(Oe.a)(n,[{key:"getMovies",value:function(){var e=Object(je.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/films");case 2:return t=e.sent,e.abrupt("return",this.transformResponse(t.data.results));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"transformResponse",value:function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];e[a].isFavorite=!1,t[e[a].episode_id]=e[a]}return t}}]),n}(function(){function e(){Object(pe.a)(this,e),this.api=void 0,this.apiConfig={timeout:15e3,baseURL:"https://swapi.dev/api",headers:{common:{"Content-Type":"application/json",Accept:"application/json"}}},this.api=he.a.create(this.apiConfig)}return Object(Oe.a)(e,[{key:"get",value:function(e,t){return this.api.get(e,t)}}]),e}())),ge=de.a.mark(Se),ye=de.a.mark(we);function Se(e){var t,n;return de.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(be.b)([localStorage,"getItem"],"favoriteMoviesIds");case 2:return t=r.sent,(n=Object(s.a)({},JSON.parse(t)))[e.payload]?delete n[e.payload]:n[e.payload]=e.payload,r.next=7,Object(be.b)([localStorage,"setItem"],"favoriteMoviesIds",JSON.stringify(n));case 7:return r.next=9,Object(be.d)((a=e.payload,G(H,{id:a,favoritesIds:n})));case 9:case"end":return r.stop()}var a}),ge)}function we(){var e,t;return de.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(be.d)(G(W));case 3:return n.next=5,Object(be.c)(500);case 5:return n.next=7,Object(be.b)((function(){return me.getMovies()}));case 7:return e=n.sent,n.next=10,Object(be.b)([localStorage,"getItem"],"favoriteMoviesIds");case 10:return t=n.sent,n.next=13,Object(be.d)(U(e,JSON.parse(t)));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,Object(be.d)((r=n.t0,G(B,r)));case 19:case"end":return n.stop()}var r}),ye,null,[[0,15]])}var ke=[Object(be.e)(D,we),Object(be.e)(J,Se)],Ie=de.a.mark(Ne);function Ne(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.a)(Object(le.a)(ke));case 2:case"end":return e.stop()}}),Ie)}var Ee=ee.d,_e=Object(se.a)(),Fe=Object(ee.e)(ie,Ee(Object(ee.a)(_e)));_e.run(Ne),c.a.render(Object(r.jsx)(i.a,{store:Fe,children:Object(r.jsx)($,{})}),document.getElementById("root"))},92:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.95b7e61a.chunk.js.map